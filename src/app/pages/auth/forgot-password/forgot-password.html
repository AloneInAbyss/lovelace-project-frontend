<app-header>
  <form class="space-y-6" [formGroup]="forgotForm" (ngSubmit)="onSubmit()" novalidate>

    <div>
      <p-inputgroup>
        <p-inputgroup-addon>
          <i class="pi pi-envelope"></i>
        </p-inputgroup-addon>
        <input pInputText formControlName="identity" placeholder="Email" />
      </p-inputgroup>

      @if (f['identity'].invalid && (f['identity'].dirty || f['identity'].touched)) {
        <div class="text-sm text-red-600 mt-1">
          @if (f['identity'].errors?.['required']) {
            <div>Email é obrigatório.</div>
          } @if (f['identity'].errors?.['email']) {
            <div>Email inválido.</div>
          }
        </div>
      }
    </div>

    <div class="flex flex-col gap-3">
      <button pButton type="submit" class="p-button p-component p-button-raised w-full" [disabled]="forgotForm.invalid" [loading]="loading">
        Enviar
      </button>
    </div>
  </form>
  <div class="mt-6 text-center text-sm text-slate-600">
    <span>Já tem conta?</span>
    <p-button link routerLink="/login" label="Entrar" size="small" />
  </div>
</app-header>
